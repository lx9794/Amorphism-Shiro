import{r as t}from"./index-DxLeZpHp.js";var N=(e,n,a,u,c,m,d,h)=>{let o=document.documentElement,b=["light","dark"];function y(i){(Array.isArray(e)?e:[e]).forEach(f=>{let S=f==="class",C=S&&m?c.map(v=>m[v]||v):c;S?(o.classList.remove(...C),o.classList.add(i)):o.setAttribute(f,i)}),T(i)}function T(i){h&&b.includes(i)&&(o.style.colorScheme=i)}function l(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)y(u);else try{let i=localStorage.getItem(n)||a,f=d&&i==="system"?l():i;y(f)}catch{}},I=["light","dark"],O="(prefers-color-scheme: dark)",W=typeof window>"u",L=t.createContext(void 0),_={setTheme:e=>{},themes:[]},z=()=>{var e;return(e=t.useContext(L))!=null?e:_},F=e=>t.useContext(L)?t.createElement(t.Fragment,null,e.children):t.createElement(J,{...e}),D=["light","dark"],J=({forcedTheme:e,disableTransitionOnChange:n=!1,enableSystem:a=!0,enableColorScheme:u=!0,storageKey:c="theme",themes:m=D,defaultTheme:d=a?"system":"light",attribute:h="data-theme",value:o,children:b,nonce:y,scriptProps:T})=>{let[l,i]=t.useState(()=>M(c,d)),[f,S]=t.useState(()=>M(c)),C=o?Object.values(o):m,v=t.useCallback(r=>{let s=r;if(!s)return;r==="system"&&a&&(s=P());let p=o?o[s]:s,A=n?$(y):null,w=document.documentElement,x=g=>{g==="class"?(w.classList.remove(...C),p&&w.classList.add(p)):g.startsWith("data-")&&(p?w.setAttribute(g,p):w.removeAttribute(g))};if(Array.isArray(h)?h.forEach(x):x(h),u){let g=I.includes(d)?d:null,K=I.includes(s)?s:g;w.style.colorScheme=K}A?.()},[y]),k=t.useCallback(r=>{let s=typeof r=="function"?r(l):r;i(s);try{localStorage.setItem(c,s)}catch{}},[l]),E=t.useCallback(r=>{let s=P(r);S(s),l==="system"&&a&&!e&&v("system")},[l,e]);t.useEffect(()=>{let r=window.matchMedia(O);return r.addListener(E),E(r),()=>r.removeListener(E)},[E]),t.useEffect(()=>{let r=s=>{if(s.key!==c)return;let p=s.newValue||d;k(p)};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[k]),t.useEffect(()=>{v(e??l)},[e,l]);let H=t.useMemo(()=>({theme:l,setTheme:k,forcedTheme:e,resolvedTheme:l==="system"?f:l,themes:a?[...m,"system"]:m,systemTheme:a?f:void 0}),[l,k,e,f,a,m]);return t.createElement(L.Provider,{value:H},t.createElement(V,{forcedTheme:e,storageKey:c,attribute:h,enableSystem:a,enableColorScheme:u,defaultTheme:d,value:o,themes:m,nonce:y,scriptProps:T}),b)},V=t.memo(({forcedTheme:e,storageKey:n,attribute:a,enableSystem:u,enableColorScheme:c,defaultTheme:m,value:d,themes:h,nonce:o,scriptProps:b})=>{let y=JSON.stringify([a,n,m,e,h,d,u,c]).slice(1,-1);return t.createElement("script",{...b,suppressHydrationWarning:!0,nonce:typeof window>"u"?o:"",dangerouslySetInnerHTML:{__html:`(${N.toString()})(${y})`}})}),M=(e,n)=>{if(W)return;let a;try{a=localStorage.getItem(e)||void 0}catch{}return a||n},$=e=>{let n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(n),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(n)},1)}},P=e=>(e||(e=window.matchMedia(O)),e.matches?"dark":"light");const Q=()=>{const{theme:e,systemTheme:n}=z();return e==="dark"||e==="system"&&n==="dark"};export{F as J,Q as u};
